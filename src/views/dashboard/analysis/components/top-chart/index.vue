<template>
  <n-grid :x-gap="16" :y-gap="16" :item-responsive="true">
    <n-grid-item span="0:24 640:24 1024:6">
      <n-card :bordered="false" class="rounded-8px shadow-sm">
        <div class="w-full h-360px py-12px">
          <h3 class="text-24px font-bold">BIT101总览</h3>
          <h3 class="pt-32px text-24px font-bold">
            <count-to :start-value="0" :end-value="5032" />
          </h3>
          <p class="text-#aaa">用户量</p>
          <h3 class="pt-32px text-24px font-bold">
            <count-to :start-value="0" :end-value="849" />
          </h3>
          <p class="text-#aaa">Poster数</p>
        </div>
      </n-card>
    </n-grid-item>
    <n-grid-item span="0:24 640:24 1024:18">
      <n-card :bordered="false" class="rounded-8px shadow-sm">
        <div ref="lineRef" class="w-full h-360px"></div>
      </n-card>
    </n-grid-item>
  </n-grid>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import type { Ref } from 'vue';
import { type ECOption, useEcharts } from '@/composables';

defineOptions({ name: 'DashboardAnalysisTopCard' });

const lineOptions = ref<ECOption>({
  tooltip: {
    trigger: 'axis',
    axisPointer: {
      type: 'cross',
      label: {
        backgroundColor: '#6a7985'
      }
    }
  },
  legend: {
    data: ['用户量']
  },
  xAxis: [
    {
      type: 'time'
    }
  ],
  yAxis: [
    {
      type: 'value'
    }
  ],
  dataZoom: [
    {
      type: 'inside',
      start: 0,
      end: 100
    },
    {
      start: 0,
      end: 100
    }
  ],
  series: [
    {
      color: '#8e9dff',
      name: '用户量',
      type: 'line',
      smooth: true,
      stack: 'Total',
      areaStyle: {
        color: {
          type: 'linear',
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [
            {
              offset: 0.25,
              color: '#8e9dff'
            },
            {
              offset: 1,
              color: '#fff'
            }
          ]
        }
      },
      emphasis: {
        focus: 'series'
      },
      data: [
        [1659283200000, 3],
        [1659369600000, 5],
        [1659542400000, 6],
        [1659974400000, 14],
        [1660060800000, 17],
        [1660147200000, 19],
        [1660233600000, 66],
        [1660320000000, 309],
        [1660406400000, 353],
        [1660492800000, 381],
        [1660579200000, 393],
        [1660665600000, 412],
        [1660752000000, 425],
        [1660838400000, 432],
        [1660924800000, 437],
        [1661011200000, 438],
        [1661097600000, 451],
        [1661184000000, 477],
        [1661270400000, 490],
        [1661356800000, 505],
        [1661443200000, 511],
        [1661529600000, 513],
        [1661616000000, 520],
        [1661702400000, 524],
        [1661788800000, 527],
        [1661875200000, 538],
        [1661961600000, 543],
        [1662048000000, 546],
        [1662134400000, 547],
        [1662220800000, 550],
        [1662307200000, 560],
        [1662393600000, 565],
        [1662480000000, 567],
        [1662566400000, 576],
        [1662652800000, 578],
        [1662739200000, 579],
        [1662825600000, 581],
        [1662912000000, 582],
        [1662998400000, 584],
        [1663084800000, 585],
        [1663171200000, 586],
        [1663257600000, 587],
        [1663430400000, 589],
        [1663516800000, 590],
        [1663689600000, 593],
        [1663862400000, 594],
        [1663948800000, 595],
        [1664035200000, 598],
        [1664121600000, 599],
        [1664208000000, 600],
        [1664294400000, 601],
        [1664380800000, 602],
        [1664467200000, 603],
        [1664553600000, 605],
        [1664640000000, 606],
        [1664812800000, 608],
        [1664985600000, 610],
        [1665331200000, 611],
        [1665417600000, 612],
        [1665504000000, 613],
        [1665676800000, 614],
        [1665936000000, 615],
        [1666022400000, 617],
        [1666108800000, 618],
        [1666195200000, 620],
        [1666281600000, 621],
        [1666368000000, 622],
        [1666627200000, 624],
        [1666886400000, 625],
        [1667232000000, 626],
        [1667318400000, 628],
        [1667404800000, 629],
        [1667750400000, 630],
        [1667836800000, 632],
        [1667923200000, 633],
        [1668096000000, 639],
        [1668182400000, 640],
        [1668441600000, 641],
        [1668614400000, 643],
        [1668873600000, 645],
        [1668960000000, 646],
        [1669046400000, 653],
        [1669392000000, 654],
        [1669651200000, 656],
        [1669824000000, 658],
        [1670083200000, 659],
        [1670688000000, 660],
        [1671033600000, 661],
        [1671724800000, 664],
        [1671811200000, 666],
        [1671897600000, 667],
        [1671984000000, 671],
        [1672070400000, 698],
        [1672156800000, 704],
        [1672243200000, 706],
        [1672329600000, 710],
        [1672416000000, 715],
        [1672502400000, 716],
        [1672761600000, 719],
        [1672934400000, 722],
        [1673020800000, 724],
        [1673107200000, 725],
        [1673193600000, 726],
        [1673366400000, 727],
        [1673452800000, 730],
        [1673539200000, 731],
        [1673625600000, 734],
        [1673712000000, 736],
        [1673884800000, 738],
        [1673971200000, 740],
        [1674144000000, 741],
        [1674403200000, 742],
        [1674489600000, 743],
        [1674921600000, 745],
        [1675094400000, 746],
        [1675267200000, 748],
        [1675440000000, 749],
        [1675526400000, 759],
        [1675612800000, 766],
        [1675699200000, 771],
        [1675785600000, 778],
        [1675872000000, 784],
        [1675958400000, 799],
        [1676044800000, 820],
        [1676131200000, 849],
        [1676217600000, 898],
        [1676304000000, 915],
        [1676390400000, 923],
        [1676476800000, 934],
        [1676563200000, 947],
        [1676649600000, 956],
        [1676736000000, 969],
        [1676822400000, 985],
        [1676908800000, 1007],
        [1676995200000, 1030],
        [1677081600000, 1037],
        [1677168000000, 1045],
        [1677254400000, 1052],
        [1677340800000, 1061],
        [1677427200000, 1069],
        [1677513600000, 1078],
        [1677600000000, 1090],
        [1677686400000, 1100],
        [1677772800000, 1105],
        [1677859200000, 1110],
        [1677945600000, 1111],
        [1678032000000, 1117],
        [1678118400000, 1123],
        [1678204800000, 1126],
        [1678291200000, 1128],
        [1678377600000, 1131],
        [1678464000000, 1132],
        [1678550400000, 1133],
        [1678636800000, 1136],
        [1678723200000, 1138],
        [1678809600000, 1139],
        [1678896000000, 1141],
        [1678982400000, 1143],
        [1679068800000, 1145],
        [1679241600000, 1147],
        [1679328000000, 1148],
        [1679414400000, 1157],
        [1679500800000, 1160],
        [1679587200000, 1161],
        [1679760000000, 1164],
        [1680019200000, 1167],
        [1680192000000, 1168],
        [1680364800000, 1169],
        [1680451200000, 1171],
        [1680537600000, 1172],
        [1680796800000, 1175],
        [1680969600000, 1176],
        [1681228800000, 1177],
        [1681574400000, 1179],
        [1681660800000, 1181],
        [1681747200000, 1182],
        [1681833600000, 1183],
        [1682006400000, 1184],
        [1682092800000, 1185],
        [1682265600000, 1187],
        [1682438400000, 1190],
        [1683302400000, 1191],
        [1683734400000, 1193],
        [1683907200000, 1194],
        [1683993600000, 1195],
        [1684080000000, 1197],
        [1684166400000, 1200],
        [1684252800000, 1202],
        [1684339200000, 1203],
        [1684425600000, 1205],
        [1684512000000, 1208],
        [1684598400000, 1215],
        [1684684800000, 1225],
        [1684771200000, 1659],
        [1684857600000, 1704],
        [1684944000000, 1726],
        [1685030400000, 1756],
        [1685116800000, 1770],
        [1685203200000, 1783],
        [1685289600000, 1808],
        [1685376000000, 1826],
        [1685462400000, 1852],
        [1685548800000, 1865],
        [1685635200000, 1878],
        [1685721600000, 1885],
        [1685808000000, 1893],
        [1685894400000, 1913],
        [1685980800000, 1923],
        [1686067200000, 1937],
        [1686153600000, 1959],
        [1686240000000, 1973],
        [1686326400000, 1983],
        [1686412800000, 1994],
        [1686499200000, 1998],
        [1686585600000, 2003],
        [1686672000000, 2017],
        [1686758400000, 2026],
        [1686844800000, 2038],
        [1686931200000, 2049],
        [1687017600000, 2058],
        [1687104000000, 2074],
        [1687190400000, 2083],
        [1687276800000, 2103],
        [1687363200000, 2112],
        [1687449600000, 2125],
        [1687536000000, 2150],
        [1687622400000, 2174],
        [1687708800000, 2207],
        [1687795200000, 2246],
        [1687881600000, 2264],
        [1687968000000, 2281],
        [1688054400000, 2303],
        [1688140800000, 2320],
        [1688227200000, 2335],
        [1688313600000, 2346],
        [1688400000000, 2422],
        [1688486400000, 2493],
        [1688572800000, 2520],
        [1688659200000, 2533],
        [1688745600000, 2538],
        [1688832000000, 2545],
        [1688918400000, 2547],
        [1689004800000, 2552],
        [1689091200000, 2559],
        [1689264000000, 2567],
        [1689350400000, 2569],
        [1689436800000, 2573],
        [1689523200000, 2578],
        [1689609600000, 2581],
        [1689696000000, 2585],
        [1689868800000, 2591],
        [1689955200000, 2593],
        [1690041600000, 2595],
        [1690128000000, 2599],
        [1690214400000, 2607],
        [1690300800000, 2611],
        [1690387200000, 2612],
        [1690473600000, 2614],
        [1690560000000, 2618],
        [1690646400000, 2621],
        [1690732800000, 2624],
        [1690819200000, 2625],
        [1690905600000, 2631],
        [1690992000000, 2636],
        [1691078400000, 2637],
        [1691164800000, 2640],
        [1691251200000, 2644],
        [1691337600000, 2648],
        [1691424000000, 2656],
        [1691510400000, 2660],
        [1691596800000, 2675],
        [1691683200000, 2685],
        [1691769600000, 2697],
        [1691856000000, 2709],
        [1691942400000, 2731],
        [1692028800000, 2756],
        [1692115200000, 2771],
        [1692201600000, 2784],
        [1692288000000, 2825],
        [1692374400000, 2856],
        [1692460800000, 2877],
        [1692547200000, 2905],
        [1692633600000, 2920],
        [1692720000000, 2946],
        [1692806400000, 2959],
        [1692892800000, 2970],
        [1692979200000, 2978],
        [1693065600000, 2987],
        [1693152000000, 2996],
        [1693238400000, 3011],
        [1693324800000, 3057],
        [1693411200000, 3138],
        [1693497600000, 3168],
        [1693584000000, 3184],
        [1693670400000, 3195],
        [1693756800000, 3216],
        [1693843200000, 3228],
        [1693929600000, 3247],
        [1694016000000, 3276],
        [1694102400000, 3308],
        [1694188800000, 3325],
        [1694275200000, 3416],
        [1694361600000, 3503],
        [1694448000000, 3560],
        [1694534400000, 3587],
        [1694620800000, 3618],
        [1694707200000, 3640],
        [1694793600000, 3695],
        [1694880000000, 3727],
        [1694966400000, 3752],
        [1695052800000, 3776],
        [1695139200000, 3791],
        [1695225600000, 3811],
        [1695312000000, 3829],
        [1695398400000, 3838],
        [1695484800000, 3846],
        [1695571200000, 3861],
        [1695657600000, 3869],
        [1695744000000, 3889],
        [1695830400000, 3906],
        [1695916800000, 3909],
        [1696003200000, 3912],
        [1696089600000, 3916],
        [1696262400000, 3917],
        [1696348800000, 3921],
        [1696435200000, 3925],
        [1696521600000, 3927],
        [1696608000000, 3934],
        [1696694400000, 3939],
        [1696780800000, 3950],
        [1696867200000, 3960],
        [1696953600000, 3969],
        [1697040000000, 3982],
        [1697126400000, 3989],
        [1697212800000, 3999],
        [1697299200000, 4004],
        [1697385600000, 4015],
        [1697472000000, 4030],
        [1697558400000, 4034],
        [1697644800000, 4044],
        [1697731200000, 4050],
        [1697817600000, 4054],
        [1697904000000, 4063],
        [1697990400000, 4066],
        [1698076800000, 4082],
        [1698163200000, 4088],
        [1698249600000, 4098],
        [1698336000000, 4100],
        [1698595200000, 4102],
        [1698681600000, 4116],
        [1698768000000, 4120],
        [1698854400000, 4276],
        [1698940800000, 4327],
        [1699027200000, 4342],
        [1699113600000, 4352],
        [1699200000000, 4363],
        [1699286400000, 4381],
        [1699372800000, 4392],
        [1699459200000, 4405],
        [1699545600000, 4418],
        [1699632000000, 4424],
        [1699718400000, 4430],
        [1699804800000, 4443],
        [1699891200000, 4453],
        [1699977600000, 4462],
        [1700064000000, 4467],
        [1700150400000, 4470],
        [1700236800000, 4482],
        [1700323200000, 4505],
        [1700409600000, 4519],
        [1700496000000, 4531],
        [1700582400000, 4545],
        [1700668800000, 4561],
        [1700755200000, 4570],
        [1700841600000, 4585],
        [1700928000000, 4602],
        [1701014400000, 4617],
        [1701100800000, 4636],
        [1701187200000, 4648],
        [1701273600000, 4656],
        [1701360000000, 4663],
        [1701446400000, 4672],
        [1701532800000, 4678],
        [1701619200000, 4686],
        [1701705600000, 4699],
        [1701792000000, 4705],
        [1701878400000, 4715],
        [1701964800000, 4728],
        [1702051200000, 4731],
        [1702137600000, 4736],
        [1702224000000, 4747],
        [1702310400000, 4755],
        [1702396800000, 4775],
        [1702483200000, 4806],
        [1702569600000, 4830],
        [1702656000000, 4836],
        [1702742400000, 4841],
        [1702828800000, 4853],
        [1702915200000, 4868],
        [1703001600000, 4875],
        [1703088000000, 4889],
        [1703174400000, 4915],
        [1703260800000, 4955],
        [1703347200000, 4982],
        [1703433600000, 4994],
        [1703520000000, 5019],
        [1703606400000, 5032]
      ]
    }
  ]
}) as unknown as Ref<ECOption>;
const { domRef: lineRef } = useEcharts(lineOptions);
</script>

<style scoped></style>
